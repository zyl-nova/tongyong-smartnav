<!--pages/home-part/reserve-detail/reserve-detail.wxml-->
<view class="container">
  <!-- åŠ è½½çŠ¶æ€ -->
  <view class="loading-container" wx:if="{{loading}}">
    <view class="loading-icon">â³</view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>
  
  <block wx:if="{{!loading && detail}}">
    <!-- é¡¶éƒ¨çŠ¶æ€å¡ç‰‡ -->
    <view class="status-header {{detail.status === 'å·²é€šè¿‡' ? 'approved' : detail.status === 'å¾…å®¡æ ¸' ? 'pending' : 'rejected'}}">
      <view class="status-icon">
        {{detail.status === 'å·²é€šè¿‡' ? 'âœ“' : detail.status === 'å¾…å®¡æ ¸' ? 'â±' : 'âœ•'}}
      </view>
      <text class="status-text">{{detail.status}}</text>
      <text class="status-hint">
        {{detail.status === 'å·²é€šè¿‡' ? 'æ‚¨çš„é¢„çº¦å·²å®¡æ ¸é€šè¿‡' : detail.status === 'å¾…å®¡æ ¸' ? 'è¯·è€å¿ƒç­‰å¾…å®¡æ ¸ç»“æœ' : 'æ‚¨çš„é¢„çº¦æœªé€šè¿‡å®¡æ ¸'}}
      </text>
    </view>

    <view class="content-area">
      <!-- é¢„çº¦ä¿¡æ¯å¡ç‰‡ -->
      <view class="info-card">
        <view class="card-header">
          <view class="card-icon">ğŸ“‹</view>
          <text class="card-title">é¢„çº¦ä¿¡æ¯</text>
        </view>
        <view class="info-list">
          <view class="info-item">
            <text class="info-label">é¢„çº¦è·¯çº¿</text>
            <text class="info-value route">{{detail.route}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">è½¦ç‰Œå·</text>
            <text class="info-value plate">{{detail.licensePlate}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">å¸æœºå§“å</text>
            <text class="info-value">{{detail.driverName}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">è”ç³»ç”µè¯</text>
            <text class="info-value phone">{{detail.phone}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">å±é™©å“ç±»å‹</text>
            <text class="info-value danger">{{detail.dangerousType}}</text>
          </view>
        </view>
      </view>
      
      <!-- æ—¶é—´ä¿¡æ¯å¡ç‰‡ -->
      <view class="info-card">
        <view class="card-header">
          <view class="card-icon">ğŸ•</view>
          <text class="card-title">æ—¶é—´ä¿¡æ¯</text>
        </view>
        <view class="info-list">
          <view class="info-item">
            <text class="info-label">æäº¤æ—¶é—´</text>
            <text class="info-value">{{detail.createTime}}</text>
          </view>
          <view class="info-item">
            <text class="info-label">é¢„çº¦å…¥å›­</text>
            <text class="info-value highlight">{{detail.entryTime}}</text>
          </view>
          <view class="info-item" wx:if="{{detail.actualEntryTime}}">
            <text class="info-label">å®é™…å…¥å›­</text>
            <text class="info-value">{{detail.actualEntryTime}}</text>
          </view>
        </view>
      </view>
      
      <!-- å¤‡æ³¨ä¿¡æ¯å¡ç‰‡ -->
      <view class="info-card" wx:if="{{detail.reviewRemark || detail.remarks}}">
        <view class="card-header">
          <view class="card-icon">ğŸ“</view>
          <text class="card-title">å¤‡æ³¨ä¿¡æ¯</text>
        </view>
        <view class="info-list">
          <view class="info-item column" wx:if="{{detail.reviewRemark}}">
            <text class="info-label">å®¡æ ¸å¤‡æ³¨</text>
            <text class="info-value remark">{{detail.reviewRemark}}</text>
          </view>
          <view class="info-item column" wx:if="{{detail.remarks}}">
            <text class="info-label">ç”³è¯·å¤‡æ³¨</text>
            <text class="info-value remark">{{detail.remarks}}</text>
          </view>
        </view>
      </view>
      
      <!-- å–æ¶ˆæŒ‰é’® -->
      <button class="cancel-btn" wx:if="{{detail.status === 'å¾…å®¡æ ¸' || detail.status === 'å·²é€šè¿‡'}}" bindtap="cancelReservation">
        å–æ¶ˆé¢„çº¦
      </button>
    </view>
  </block>
</view>
